// addEventListener('scroll', e => {
//   document.body.style.cssText = `--scrollTop: ${this.scrollY}px`
// })
window.addEventListener('load', function() {
    // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å –∫ —Ç–µ–≥—É body
    document.body.classList.add('loaded');
    
    // –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ: –º–æ–∂–Ω–æ —Å–æ–≤—Å–µ–º —É–¥–∞–ª–∏—Ç—å –ø—Ä–µ–ª–æ–∞–¥–µ—Ä –∏–∑ DOM —á–µ—Ä–µ–∑ —Å–µ–∫—É–Ω–¥—É
    setTimeout(function() {
        const preloader = document.getElementById('preloader');
        if (preloader) {
            preloader.remove();
        }
    }, 1000); // –ó–∞–¥–µ—Ä–∂–∫–∞ –≤ 1 —Å–µ–∫—É–Ω–¥—É –¥–ª—è –ø–ª–∞–≤–Ω–æ—Å—Ç–∏
});

window.addEventListener('scroll', () => {
  const scrollY = window.scrollY;
  document.documentElement.style.setProperty('--scrollTop', `${scrollY}px`);
});

const sliderContainer = document.getElementById('textSlider');
const slides = document.querySelectorAll('.slide');
const totalSlides = slides.length;

let currentIndex = 0;

const prevBtn = document.querySelector('.prev-button');
const nextBtn = document.querySelector('.next-button');

prevBtn.addEventListener('click', () => {
  currentIndex = (currentIndex - 1 + totalSlides) % totalSlides;
  updateSlider();
});

nextBtn.addEventListener('click', () => {
  currentIndex = (currentIndex + 1) % totalSlides;
  updateSlider();
});

function updateSlider() {
  sliderContainer.style.transform = `translateX(-${currentIndex * 100}%)`;
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
updateSlider();

const sections = document.querySelectorAll('.main_article_hero');

sections.forEach(section => {
  const observer = new IntersectionObserver((entries, observer) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('visible');
        // observer.unobserve(entry.target); // –æ—Ç–∫–ª—é—á–∏—Ç—å –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –ø–æ—è–≤–ª–µ–Ω–∏—è
      }
    });
  }, { threshold: 0.2 });

  observer.observe(section);
});



const comments = [
  {
    name: "–ê–Ω–¥—Ä–µ–π –°—É–¥–∞–∫–æ–≤",
    time: "29 –æ–∫—Ç—è–±—Ä—è 2024",
    text: "–¶–∏–∫–ª —Å—É–ø–µ—Ä, –∂–¥—É –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ) —á–∏—Ç–∞–µ—Ç—Å—è –ª–µ–≥–∫–æ, —é–º–æ—Ä –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç) –∞–≤—Ç–æ—Ä—É —Å–ø–∞—Å–∏–±–æüëçüòâ",
    likes: "+9"
  },
  {
    name: "–≤–ª–∞–¥–∏–º–∏—Ä",
    time: "6 –∏—é–Ω—è –≤ 11:33",
    text: "–ü–µ—Ä–≤–∞—è –∫–Ω–∏–≥–∞ –∑–∞–º–µ—á–∞—Ç–µ–ª—å–Ω–∞—è.–ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è –∏–Ω—Ç—Ä–∏–≥–∞. –ª—é–±–æ–≤–Ω—ã–µ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è –≤—Å–µ –æ—á–µ–Ω—å –∑–¥–æ—Ä–æ–≤–æ.–õ–æ—Ä–∞ –ø—Ä–æ—Å—Ç–æ. –æ—Ç–ø–∞–¥.–≤–æ—Ç  –∑–∞ –∏–º–µ—Ç—å —Ç–∞–∫—É—é. –ê–≤—Ç–æ—Ä—É –±–æ–ª—å—à–æ–µ —Å–ø–∞—Å–∏–±–æ –∑–∞ —Ä–∞–±–æ—Ç—É.–¶–∏–∫–ª –±–æ–ª—å—à–æ–π —á–∏—Ç–∞–µ–º –¥–∞–ª—å—à–µ.",
    likes: "+3"
  },
  {
    name: "Tata-tata",
    time: "29 –æ–∫—Ç—è–±—Ä—è 2024",
    text: "–ß–∏—Ç–∞—é —Å —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ–º –∏ –∏–Ω—Ç–µ—Ä–µ—Å–æ–º, –∂–¥—É –Ω–æ–≤—ã—Ö –≥–ª–∞–≤, —á—Ç–æ–±—ã –ø—Ä–∏—è—Ç–Ω–æ –ø—Ä–æ–≤–µ—Å—Ç–∏ –≤—Ä–µ–º—è –∑–∞ —É—Ç—Ä–µ–Ω–Ω–µ–π —á–∞—à–µ—á–∫–æ–π —á–∞—è! –ù–µ —Å—Ç–æ–∏—Ç –∂–¥–∞—Ç—å –æ—Ç —Ü–∏–∫–ª–∞ –≥–ª—É–±–æ–∫–æ–π —Ñ–∏–ª–æ—Å–æ—Ñ–∏–∏ –∏ –æ—Ç–∫—Ä—ã—Ç–∏—è —Ç–∞–π–Ω –º–∏—Ä–æ–∑–¥–∞–Ω–∏—è, –∑–∞—É–º–Ω—ã—Ö –º—ã—Å–ª–µ–π –∏ —á–∞—Å–æ–≤—ã—Ö –æ–ø–∏—Å–∞–Ω–∏–π –ø—Ä–∏—Ä–æ–¥—ã, –ø–æ–ª–∏—Ç–∏–∫–∏ –∏–ª–∏ —Ç–µ—Ö–Ω–∏–∫. –ß–∏—Ç–∞–µ—Ç—Å—è –ª–µ–≥–∫–æ, –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ, —Å—é–∂–µ—Ç –¥–∏–Ω–∞–º–∏—á–Ω—ã–π, –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç! –ê–≤—Ç–æ—Ä—É –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏—è –∏ –Ω–æ–≤—ã—Ö –ø–æ–∫–ª–æ–Ω–Ω–∏–∫–æ–≤!",
    likes: "+3"
  },
  {
    name: "–ú–∞–∫—Å–∏–º –ö–∞—Ä–ø–æ–≤",
    time: "29 –æ–∫—Ç—è–±—Ä—è 2024",
    text: "–°—É–ø–µ—Ä —Ç–æ–ø, –æ—á–µ–Ω—å –Ω—Ä–∞–≤–∏—Ç—Å—è –ø–æ–≥—Ä—É–∂–∞—Ç—å—Å—è –≤ –∞—Ç–º–æ—Å—Ñ–µ—Ä—É –ø–∏—Å–∞—Ç–µ–ª—è, –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –∏ –ø–æ–¥—Å—Ç–µ–≥–∏–≤–∞–µ—Ç –¥–ª—è —á—Ç–µ–Ω–∏—è —Å–ª–µ–¥—É—é—â–µ–π –∫–Ω–∏–≥–∏, —Å–ø–∞—Å–∏–±–æ –±–æ–ª—å—à–æ–µ –∞–≤—Ç–æ—Ä—É!",
    likes: "+3"
  },
  {
    name: "–ê–Ω–¥—Ä–µ–π –ü–µ—Ç—Ä—É—à–∏–Ω",
    time: "29 –æ–∫—Ç—è–±—Ä—è 2024",
    text: "–ö–Ω–∏–∂–∫–∞ —Å—É–ø–µ—Ä, –∫–∞–∫ –∏ –≤–µ—Å—å —Ü–∏–∫–ª. –ù–æ–≤—ã–µ –≥–ª–∞–≤—ã –≤—ã—Ö–æ–¥—è—Ç —á—É—Ç—å –ª–∏ –Ω–µ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å, —Ç–∞–∫ —á—Ç–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É—é!",
    likes: "+3"
  },
  {
    name: "–ù–∏–∫–∏—Ç–∞ –õ—É–ø–ø–æ–≤",
    time: "29 –æ–∫—Ç—è–±—Ä—è 2024",
    text: "–¢–æ–ø –∫–Ω–∏–≥–∞ –ø—Ä–æ—á–∏—Ç–∞–ª –≤—Å–µ –∫–Ω–∏–≥–∏ —á—Ç–æ —É–∂–µ –≤—ã—à–ª–∏ –∂–¥—É –ø—Ä–æ–¥—ã)",
    likes: "+9"
  },
  {
    name: "Useless",
    time: "30 –∏—é–ª—è 2023",
    text: "–°–ª—É—á–∞–π–Ω–æ –∑–∞—Ü–µ–ø–∏–ª –≤–∑–≥–ª—è–¥–æ–º –∏ —Ä–µ—à–∏–ª –ø–æ—á–∏—Ç–∞—Ç—å. –í–æ–æ–±—â–µ –Ω–µ –ø–æ–∂–∞–ª–µ–ª, –ø–µ—Ä—Å–æ–Ω–∞–∂–∏ –≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç –º–Ω–æ–≥–∏—Ö –¥—Ä—É–≥–∏—Ö —Ä–∞–±–æ—Ç –Ω–∞ —Å–∞–π—Ç–µ(–¥–∞–∂–µ —Ç–µ—Ö, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥ ¬´–±–µ—Å—Ç—Å–µ–ª–ª–µ—Ä¬ª) –æ—á–µ–Ω—å –∂–∏–≤—ã–µ, –Ω–∞–¥–µ—é—Å—å –∞–≤—Ç–æ—Ä –∏ –¥–∞–ª—å—à–µ –Ω–µ –±—É–¥–µ—Ç –∑–∞–±–∏–≤–∞—Ç—å –Ω–∞ —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç. –¢–∞–∫ –∂–µ –ø–æ–Ω—Ä–∞–≤–∏–ª–æ—Å—å, —á—Ç–æ —É –≥–µ—Ä–æ—è –≤ –æ–∫—Ä—É–∂–µ–Ω–∏–∏ –Ω–µ 500 –±–∞–± –∫–∞–∫ –≤–æ –º–Ω–æ–≥–∏—Ö –¥—Ä—É–≥–∏—Ö –±–æ—è—Ä–∫–∞—Ö) –ó–Ω–∞—é, –ø–ª—é—Å —Ç–∞–∫–æ–π —Å–µ–±–µ, –Ω–æ –∫–∞–∫ –º–µ–Ω—è –¥–æ—Å—Ç–∞–ª–æ —ç—Ç–æ —è–≤–ª–µ–Ω–∏–µ‚Ä¶ –ñ–µ–ª–∞—é –∞–≤—Ç–æ—Ä—É —Ö–æ—Ä–æ—à–µ–≥–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è –∏ –∂–µ–ª–∞–Ω–∏—è –≤ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–∏ —Ä–∞–±–æ—Ç.",
    likes: "+6"
  },
  {
    name: "–í–ª–∞–¥–∏–º–∏—Ä –¢–∞—Ä–∞—Å–æ–≤",
    time: "29 –æ–∫—Ç—è–±—Ä—è 2024",
    text: "–ö–Ω–∏–≥–∞ –ø—Ä–æ—Å—Ç–æ –∫–ª–∞—Å—Å, –Ω–æ –µ—Å–ª–∏ –ø–æ–ø—Ä–æ—Å—è—Ç –æ–ø–∏—Å–∞—Ç—å –µ√´ –º–µ–º–æ–º —è –æ—Ç–≤–µ—á—É —Ç–∞–∫ - –®√´–ª 2050 –≥–æ–¥, –≤—ã—à–ª–∞ —É–∂–µ 74 –∫–Ω–∏–≥–∞ —Ü–∏–∫–ª–∞ '–î–æ—Ä–æ–≥–æ–π –±–∞—Ä–æ–Ω' üòÇ",
    likes: "+3"
  },
  {
    name: "–ú–∞–∫—Å",
    time: "29 –æ–∫—Ç—è–±—Ä—è 2024",
    text: "–ß–∏—Ç–∞—é –º–Ω–æ–≥–æ, —á–∏—Ç–∞—é —Å —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ–º.–ò —ç—Ç–æ—Ç —Ü–∏–∫–ª —á–∏—Ç–∞—é —Å —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ–º. '–ü–∞—Å—Ö–∞–ª–∫–∏' –∏–ª–∏ –æ—Ç—Å—ã–ª–∫–∏ –∫ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º –≤–∏–¥–µ–æ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è–º —Ä–∞–¥—É—é—Ç. –†–µ–∫–æ–º–µ–Ω–¥—É—é",
    likes: "+3"
  },
  {
    name: "Karina",
    time: "29 –æ–∫—Ç—è–±—Ä—è 2024",
    text: "–°–ø–∞—Å–∏–±–æ –∞–≤—Ç–æ—Ä—É. –ö–Ω–∏–≥–∞ üî•, —Ü–∏–∫–ª üî•!!! –ñ–¥–µ–º –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ))) ",
    likes: "+3"
  },
  {
    name: "–ê–ª–∞–Ω –°–º–æ–ª–µ–Ω—Å–∫–∏–π",
    time: "29 –∏—é–ª—è 2023",
    text: "–°–ª—É—á–∞–π–Ω–æ –Ω–∞—Ç–∫–Ω—É–ª—Å—è –Ω–∞ –∫–Ω–∏–≥—É. –ò –æ—á–µ–Ω—å —Ä–∞–¥. –í –ø–æ–ª–Ω–æ–º –≤–æ—Å—Ç–æ—Ä–≥–µ. –ó–∞–ø–æ–µ–º –ø—Ä–æ—á–µ–ª 18 –≥–ª–∞–≤. –ò —Å –±–æ–ª—å—à–∏–º –Ω–µ—Ç–µ—Ä–ø–µ–Ω–∏–µ–º –±—É–¥—É –∂–¥–∞—Ç—å –≤—Å–µ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ –≥–ª–∞–≤—ã.üëç üëç ",
    likes: "+6"
  },
  {
    name: "–†–æ–º–∞–Ω –®–∞–º—Ä–æ–≤",
    time: "29 –æ–∫—Ç—è–±—Ä—è 2024",
    text: "—Ö–æ—Å–ø–∞–¥–∏–∏–∏, 20 –∫–Ω–∏–≥ —á–∏—Å—Ç–µ–π—à–µ–≥–æ –∫–∞–π—Ñ–∞, —á–∏—Ç–∞–µ—Ç—Å—è –ø—Ä–æ—Å—Ç–æ –Ω–∞ –∏–∑–∏, –¥–ª—è —Ç–µ—Ö –∫—Ç–æ —Ö–æ—á–µ—Ç –ø—Ä–æ—Å—Ç–æ –ø–æ—Ä–µ–ª–∞–∫—Å–∏—Ç—å –ø–æ–¥ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—É—é –∏—Å—Ç–æ—Ä–∏—é ü§ì 100 –¥–µ—Ç–∞–ª–µ–∫ –ë–æ–ª–≤–∞–Ω—á–∏–∫–∞ –∏–∑ 10ü§ó ",
    likes: "+3"
  },
  {
    name: "–°—Ç–∞–Ω–∏—Å–ª–∞–≤ –ì–∞–ª",
    time: "24 –∞–≤–≥—É—Å—Ç–∞ 2023",
    text: "–ü–æ—Ç—Ä—è—Å–∞—é—â–∞—è –∫–Ω–∏–≥–∞! –ü—Ä–æ—á–∏—Ç–∞–ª –Ω–∞ –æ–¥–Ω–æ–º –¥—ã—Ö–∞–Ω–∏–∏! –ê–≤—Ç–æ—Ä, –±—Ä–∞–≤–æ! –û—Ç–ª–∏—á–Ω–æ –æ–±—ã–≥—Ä–∞–ª –º–æ–º–µ–Ω—Ç—ã –ø–æ–ø–∞–¥–∞–Ω—Å—Ç–≤–∞ –∏ –ø–æ–º–æ—â–Ω–∏–∫–∞!",
    likes: "+1"
  },

];

const slider = document.getElementById('textSlider');

let currentIndex_comments = 0;

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–ª–∞–π–¥–∞
function createSlide(comment) {
  const slide = document.createElement('div');
  slide.className = 'slide';

  slide.innerHTML = `
    <div class="comment">
      <div class="comment_name_time">
        <div class="comment_name">${comment.name}</div>
        <div class="comment_time">${comment.time}</div>
      </div>
      <div class="comment_text">${comment.text}</div>
      <div class="comment_like">${comment.likes}</div>
    </div>
  `;
  return slide;
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–ª–∞–π–¥–µ—Ä–∞
function initSlider() {
  comments.forEach(comment => {
    const slide = createSlide(comment);
    slider.appendChild(slide);
  });
}

// –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —Å–ª–∞–π–¥–æ–≤
function showSlide(index) {
  const total = comments.length;
  if (index < 0) index = total - 1;
  if (index >= total) index = 0;
  currentIndex_comments = index;
  const offset = -index * 100; // –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö
  slider.style.transform = `translateX(${offset}%)`;
}

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–Ω–æ–ø–æ–∫
document.querySelector('.prev-button').addEventListener('click', () => {
  showSlide(currentIndex_comments - 1);
});

document.querySelector('.next-button').addEventListener('click', () => {
  showSlide(currentIndex_comments + 1);
});

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
initSlider();
showSlide(currentIndex_comments);